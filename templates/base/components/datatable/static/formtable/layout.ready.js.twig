{% set sListId = oUIBlock.GetId() %}
{% set sListIDForVarSuffix = ('' ~ sListId)|sanitize(constant('utils::ENUM_SANITIZATION_FILTER_VARIABLE_NAME')) %}

var table{{ sListIDForVarSuffix }} = $('#{{ oUIBlock.GetId() }}').DataTable({
    language: {
        emptyTable: "{{ 'UI:Message:EmptyList:UseAdd'|dict_s }}"
    },
    scrollX: true,
    scrollCollapse: true,
    paging: false,
    filter: false,
    autoWidth: false,
    search: false,
    dom: "t",
    "order": [],
    {% if oUIBlock.GetOption("select_mode") is not empty %}
    {% if oUIBlock.GetOption("select_mode") != "custom" %}
    select: {
        style: "{% if oUIBlock.GetOption("select_mode") == "multiple" %}multi{% else %}single{% endif %}",
        info: false
    },
    {% endif %}
    columnDefs: [
        {orderable: false, targets: 0}
    ],
    {% endif %}
});
if ($('#{{ oUIBlock.GetId() }}').find('thead').is(':visible')) {
    table{{ sListIDForVarSuffix }}.columns.adjust().draw();
}

if(window.ResizeObserver){
    let oFromTable{{ sListIDForVarSuffix }}ResizeTimeout = null;
    const oFromTable{{ sListIDForVarSuffix }}Resize = new ResizeObserver(function(){
        clearTimeout(oFromTable{{ sListIDForVarSuffix }}ResizeTimeout);
        oFromTable{{ sListIDForVarSuffix }}ResizeTimeout = setTimeout(function(){
            $('#{{ oUIBlock.GetId() }}').DataTable().columns.adjust();
        }, 120);
    });
    oFromTable{{ sListIDForVarSuffix }}Resize.observe($('#{{ oUIBlock.GetId() }}')[0]);
}